(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-551ccbd7"],{"11e9":function(t,e,a){var s=a("52a7"),n=a("4630"),o=a("6821"),i=a("6a99"),l=a("69a8"),r=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=o(t),e=i(e,!0),r)try{return c(t,e)}catch(a){}if(l(t,e))return n(!s.f.call(t,e),t[e])}},"430c":function(t,e,a){"use strict";var s=a("7322"),n=a.n(s);n.a},"4cb0":function(t,e,a){},"4f8d":function(t,e,a){},"5dbc":function(t,e,a){var s=a("d3f4"),n=a("8b97").set;t.exports=function(t,e,a){var o,i=e.constructor;return i!==a&&"function"==typeof i&&(o=i.prototype)!==a.prototype&&s(o)&&n&&n(t,o),t}},6986:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-views-wrapper"},[a("account-detail-table"),a("div",{staticClass:"xu-row mt-integer"},[a("div",{staticClass:"xu-col-12"},[a("login-record-table")],1)]),a("div",{staticClass:"xu-row mt-integer"},[a("div",{staticClass:"xu-col-12"},[a("operation-record-table")],1)])],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xubox"},[a("div",{staticClass:"xubox-title"},[a("span",[t._v("账号情况")]),a("span",{staticClass:"xu-indicator xu-indicator-add xu-float-right",on:{click:t.addNewAccount}},[t._v("添加账号")])]),a("div",{staticClass:"xubox-content"},[a("table",{staticClass:"xu-table xu-table-center xu-table-hover"},[t._m(0),a("tbody",t._l(t.accountInfos,(function(e){return a("tr",{key:e.accountId},[a("td",[t._v(t._s(e.accountId))]),a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.role.roleName))]),a("td",[t._v(t._s(e.mobile))]),a("td",[t._v(t._s(e.company.companyName))]),a("td",[a("xu-switch",{attrs:{value:t._f("statusFilter")(e.status),isShowConfirm:!0},on:{toggle:function(a){return t.enableAccount(a,e)}}})],1),a("td",[t._v(t._s(e.createTime))]),a("td",[a("span",{staticClass:"xu-indicator xu-indicator-edit",on:{click:function(a){return t.editAccount(e)}}},[t._v("修改")]),a("span",{staticClass:"xu-indicator xu-indicator-delete",on:{click:function(a){return t.delAccount(e.accountId)}}},[t._v("删除")]),a("span",{staticClass:"xu-indicator xu-indicator-basic",on:{click:function(a){return t.showEditPasswordForm(e)}}},[t._v("修改密码")])])])})),0)])]),t.isFormShown?a("xu-form",{attrs:{"is-pop-up":!0,"form-title":t.formTitle,"render-data":t.formRenderData},on:{submit:function(e){return t.submit(e)},close:function(e){t.isFormShown=!1}}}):t._e(),t.isPasswordModalShown?a("modify-password-pop-up",{on:{changePsw:function(e){return t.changePsw(e)},close:function(e){t.isPasswordModalShown=!1}}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"xu-bg-silver"},[a("tr",[a("th",[t._v("#账号ID")]),a("th",[t._v("用户名")]),a("th",[t._v("角色")]),a("th",[t._v("手机号")]),a("th",[t._v("所属公司")]),a("th",[t._v("启用")]),a("th",[t._v("创建时间")]),a("th",[t._v("操作")])])])}],l=(a("7f7f"),a("ac6a"),a("f5e7")),r=a("b10a"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("xu-modal",{attrs:{shown:!0,"header-shown":!0,"footer-shown":!0,"header-style":{backgroundColor:"#00a8b3",color:"#ffffff"}},on:{close:t.close}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改密码")])]),a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",[t._v("新的密码：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"xu-input",class:{"xu-illegal-border":!t.isValidate},attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",[t._v("确认密码：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordAgain,expression:"passwordAgain"}],staticClass:"xu-input",class:{"xu-illegal-border":!t.isValidate},attrs:{type:"password"},domProps:{value:t.passwordAgain},on:{input:function(e){e.target.composing||(t.passwordAgain=e.target.value)}}})]),t.isValidate?t._e():a("p",{staticClass:"xu-illegal-text"},[t._v(t._s(t.invalidStr))])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"xu-text-center"},[a("button",{staticClass:"xu-btn xu-btn-primary mr-integer",on:{click:t.submit}},[t._v("确认")]),a("button",{staticClass:"xu-btn xu-btn-cancel mb-integer",on:{click:t.close}},[t._v("取消")])])])])},u=[],d=a("c41d"),f={name:"ModifyPasswordPopUp",components:{XuModal:d["a"]},data:function(){return{password:"",passwordAgain:"",isValidate:!0,invalidStr:""}},methods:{close:function(){this.$emit("close")},submit:function(){var t=/^\w{8,12}$/;this.isValidate=t.test(this.password)&&this.password===this.passwordAgain,this.isValidate?this.$emit("changePsw",this.password):this.password!==this.passwordAgain?this.invalidStr="密码前后不一致":this.invalidStr="密码只能是8到12位的数字或者字母"}}},p=f,h=a("2877"),m=Object(h["a"])(p,c,u,!1,null,"23d89ff0",null),v=m.exports,g={name:"AccountDetailTable",components:{XuSwitch:l["a"],XuForm:r["a"],ModifyPasswordPopUp:v},data:function(){return{accountInfos:[],optionalRoles:[],optionalCompany:[],isFormShown:!1,formRenderData:[],formTitle:"",submitType:0,selectedAccount:null,isPasswordModalShown:!1}},methods:{getAccountInfos:function(){var t=this;this.$Http["accountManage"]["getAccountInfos"]().then((function(e){t.accountInfos=[],e.forEach((function(e){var a=e.role,s=e.company;t.accountInfos.push({accountId:e.id,username:e.username,mobile:e.mobile,status:e.status,role:{roleId:a["id"],roleName:a["roleName"]},company:{companyId:s["id"],companyName:s["name"]},createTime:e.createTime})}))}))},getOptionalRoles:function(){var t=this;this.optionalRoles=[],this.$Http["roleManage"]["getRoleInfos"]().then((function(e){e.forEach((function(e){t.optionalRoles.push({roleId:e["id"],roleName:e["roleName"]})}))}))},getOptionalCompany:function(){var t=this;this.optionalCompany=[],this.$Http["backendManage"]["getCompanyInfos"]().then((function(e){e.forEach((function(e){t.optionalCompany.push({companyId:e["id"],companyName:e["name"]})}))}))},addNewAccount:function(){this.formTitle="新建账号",this.submitType=0,this.formRenderData=[{content:"用户名：",value:"",field:"username"},{content:"密码：",value:"",field:"password"},{content:"手机号：",value:"",field:"mobile"},{content:"选择角色：",value:"",field:"role",additionalInfo:{type:"select",optional:this.optionalRoles.map((function(t){return t["roleName"]}))}},{content:"选择公司：",value:"",field:"company",additionalInfo:{type:"select",optional:this.optionalCompany.map((function(t){return t["companyName"]}))}}],this.isFormShown=!0},editAccount:function(t){this.selectedAccount=t,this.formTitle="修改账号信息",this.submitType=1,this.formRenderData=[{content:"用户名：",value:t["username"],field:"username"},{content:"手机号：",value:t["mobile"],field:"mobile"},{content:"选择角色：",value:t["role"]["roleName"],field:"role",additionalInfo:{type:"select",optional:this.optionalRoles.map((function(t){return t["roleName"]}))}},{content:"选择公司：",value:t["company"]["companyName"],field:"company",additionalInfo:{type:"select",optional:this.optionalCompany.map((function(t){return t["companyName"]}))}}],this.isFormShown=!0},enableAccount:function(t,e){console.log(t);var a={id:e["accountId"],username:e["username"],mobile:e["mobile"],status:0,role:{id:e["role"]["roleId"]},company:{id:e["company"]["companyId"]}};switch(t){case!0:a["status"]=1,this.$Http["accountManage"]["editAccountInfo"](a).then();break;case!1:this.$Http["accountManage"]["editAccountInfo"](a).then();break}},delAccount:function(t){var e=this;this.$Http["accountManage"]["delAccountInfo"](t).then((function(t){t&&e.getAccountInfos()}))},showEditPasswordForm:function(t){this.isPasswordModalShown=!0,this.selectedAccount=t},changePsw:function(t){var e={id:this.selectedAccount["accountId"],password:t};this.isPasswordModalShown=!1,this.$Http["accountManage"]["modifyPassword"](e).then()},submit:function(t){for(var e=this,a=0;a<this.optionalRoles.length;a++)if(this.optionalRoles[a]["roleName"]===t["role"]){t["role"]={id:this.optionalRoles[a]["roleId"]};break}for(var s=0;s<this.optionalCompany.length;s++)if(this.optionalCompany[s]["companyName"]===t["company"]){t["company"]={id:this.optionalCompany[s]["companyId"]};break}switch(this.submitType){case 0:t["status"]=1,this.$Http["accountManage"]["postAccountInfo"](t).then((function(t){console.log(t),t&&e.getAccountInfos()}));break;case 1:t["id"]=this.selectedAccount["accountId"],t["status"]=this.selectedAccount["status"],this.$Http["accountManage"]["editAccountInfo"](t).then((function(t){t&&e.getAccountInfos()}));break}}},filters:{statusFilter:function(t){switch(t){case 0:return!1;case 1:return!0;default:return!0}}},created:function(){this.getAccountInfos(),this.getOptionalRoles(),this.getOptionalCompany()}},b=g,_=Object(h["a"])(b,o,i,!1,null,"e04f0052",null),x=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xubox"},[a("div",{staticClass:"xubox-title"},[t._v("\n    登录日志\n  ")]),a("div",{staticClass:"xubox-content"},[a("table",{staticClass:"xu-table xu-table-center xu-table-hover"},[t._m(0),a("tbody",t._l(t.serverData.content,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.userName))]),a("td",[t._v(t._s(e.loginTime))]),a("td",[t._v(t._s(t._f("msFilter")(e.onlineTime)))])])})),0)]),a("div",{staticClass:"xu-text-center"},[a("xu-page-nav",{attrs:{"is-shown":!0,size:t.serverData.size,"now-page":t.serverData.number,"total-elements":t.serverData.totalElements,"total-page":t.serverData.totalPages},on:{selectedPage:function(e){return t.jumpSelectedPage(e)}}})],1)])])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"xu-bg-silver"},[a("tr",[a("th",[t._v("用户名")]),a("th",[t._v("登录时间")]),a("th",[t._v("在线时长")])])])}],P=a("9502"),C={components:{XuPageNav:P["a"]},data:function(){return{serverData:{}}},created:function(){this.getData()},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$Http["accountManage"]["getUserLoginRecord"]("",{params:{start:e}}).then((function(e){t.serverData=e})).catch((function(t){console.log("登录日志数据解析出错")}))},jumpSelectedPage:function(t){this.getData(t-1)}},filters:{msFilter:function(t){if(t<=0)return"无";var e=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5),s=Math.floor(t%864e5%36e5/6e4),n="";return e?n=n+e+"天":n+="",a?n=n+a+"小时":n+="",s?n=n+s+"分钟":n+="",n}}},I=C,N=Object(h["a"])(I,y,w,!1,null,"42e06de6",null),A=N.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xubox"},[a("div",{staticClass:"xubox-title"},[t._v("\n    用户操作日志\n  ")]),a("div",{staticClass:"xubox-content"},[a("table",{staticClass:"xu-table xu-table-center xu-table-hover"},[t._m(0),a("tbody",t._l(t.serverData.content,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.operation))]),a("td",[t._v(t._s(e.method))]),a("td",[t._v(t._s(e.params))]),a("td",[t._v(t._s(e.time))]),a("td",[t._v(t._s(e.ip))]),a("td",[t._v(t._s(e.createDate))])])})),0)]),a("div",{staticClass:"xu-text-center"},[a("xu-page-nav",{attrs:{"is-shown":!0,size:t.serverData.size,"now-page":t.serverData.number,"total-elements":t.serverData.totalElements,"total-page":t.serverData.totalPages},on:{selectedPage:function(e){return t.jumpSelectedPage(e)}}})],1)])])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"xu-bg-silver"},[a("tr",[a("th",[t._v("用户名")]),a("th",[t._v("操作")]),a("th",[t._v("操作方法")]),a("th",[t._v("请求参数")]),a("th",[t._v("请求时长")]),a("th",[t._v("操作IP")]),a("th",[t._v("操作时间")])])])}],S={components:{XuPageNav:P["a"]},data:function(){return{serverData:{}}},created:function(){this.getData()},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$Http["accountManage"]["getOperationRecord"]("",{params:{start:e}}).then((function(e){t.serverData=e})).catch((function(t){console.log("操作日志数据解析出错")}))},jumpSelectedPage:function(t){this.getData(t-1)}}},E=S,D=Object(h["a"])(E,k,$,!1,null,"8b0e1562",null),R=D.exports,M={name:"AccountManage",components:{AccountDetailTable:x,LoginRecordTable:A,OperationRecordTable:R}},O=M,T=Object(h["a"])(O,s,n,!1,null,"4611156b",null);e["default"]=T.exports},7322:function(t,e,a){},7860:function(t,e,a){"use strict";var s=a("eeae"),n=a.n(s);n.a},"8b97":function(t,e,a){var s=a("d3f4"),n=a("cb7c"),o=function(t,e){if(n(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:s(t,a),t}}({},!1):void 0),check:o}},9093:function(t,e,a){var s=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,n)}},9502:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShown?a("div",{staticClass:"wrapper"},[a("ul",{staticClass:"x-page-nav-wrapper"},[a("li",{staticClass:"x-page-item x-page-number",on:{click:t.previousPage}},[t._v("上一页")]),t._l(t.pageNumbers,(function(e){return a("li",{staticClass:"x-page-item",class:{"x-page-number":"..."!==e,active:e===t.selectPage},on:{click:function(a){return t.getPage(e)}}},[t._v("\n      "+t._s(e)+"\n    ")])})),a("li",{staticClass:"x-page-item x-page-number",on:{click:t.nextPage}},[t._v("下一页")]),a("li",{staticClass:"x-page-item"},[t._v("\n      共"+t._s(t.totalElements)+"条记录\n    ")]),a("li",{staticClass:"x-page-item"},[a("span",[t._v("跳到第")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.chosenPage,expression:"chosenPage"}],staticClass:"choose-page xu-input",attrs:{type:"number",min:"1",max:t.totalPage},domProps:{value:t.chosenPage},on:{input:function(e){e.target.composing||(t.chosenPage=e.target.value)}}}),a("span",[t._v("页")])]),a("li",{staticClass:"x-page-item"},[a("button",{staticClass:"xu-btn nav-btn",on:{click:t.choosePage}},[t._v("确定")])])],2)]):t._e()},n=[],o=(a("c5f6"),{name:"XuPageNav",props:{isShown:{type:Boolean,default:!1},size:{type:Number},totalElements:{type:Number},totalPage:{type:Number},nowPage:{type:Number}},data:function(){return{selectPage:1,chosenPage:"",pageNumbers:[]}},methods:{getArray:function(t,e){var a=[],s=e-t;if(s<0)return-1;for(var n=0;n<=s;n++)a[n]=t+n;return a},initPageNumbers:function(){this.totalPage<=6&&this.totalPage>=1?this.pageNumbers=this.getArray(1,this.totalPage):0===this.totalPage?this.pageNumbers=[0]:this.pageNumbers=[1,2,3,4,5,"...",this.totalPage]},adjustPageNumbers:function(t){this.totalPage>=7&&(1===t||2===t||3===t?this.pageNumbers=[1,2,3,4,5,"...",this.totalPage]:t===this.totalPage-2||t===this.totalPage-1||t===this.totalPage?this.pageNumbers=[1,"...",this.totalPage-4,this.totalPage-3,this.totalPage-2,this.totalPage-1,this.totalPage]:this.pageNumbers=[1,"...",t-1,t,t+1,"...",this.totalPage])},getPage:function(t){"..."!==t&&(this.selectPage=t,this.adjustPageNumbers(this.selectPage),this.$emit("selectedPage",this.selectPage))},previousPage:function(){this.selectPage>1&&(this.selectPage=this.selectPage-1,this.adjustPageNumbers(this.selectPage),this.$emit("selectedPage",this.selectPage))},nextPage:function(){this.selectPage<this.totalPage&&(this.selectPage=this.selectPage+1,this.adjustPageNumbers(this.selectPage),this.$emit("selectedPage",this.selectPage))},choosePage:function(){Number(this.chosenPage)>0&&Number(this.chosenPage)<=this.totalPage&&this.selectPage!==Number(this.chosenPage)&&(this.selectPage=Number(this.chosenPage),this.adjustPageNumbers(this.selectPage),this.chosenPage="",this.$emit("selectedPage",this.selectPage))},propsData:function(){console.log("1.isShown:",this.isShown),console.log("2.size:",this.size),console.log("3.totalElements:",this.totalElements),console.log("4.totalPage:",this.totalPage),console.log("5.nowPage:",this.nowPage)}},watch:{totalElements:function(){this.initPageNumbers(),this.selectPage=this.nowPage+1}}}),i=o,l=(a("f680"),a("2877")),r=Object(l["a"])(i,s,n,!1,null,"18c5e06b",null);e["a"]=r.exports},a54b:function(t,e,a){"use strict";var s=a("4f8d"),n=a.n(s);n.a},aa77:function(t,e,a){var s=a("5ca1"),n=a("be13"),o=a("79e5"),i=a("fdef"),l="["+i+"]",r="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t,e,a){var n={},l=o((function(){return!!i[t]()||r[t]()!=r})),c=n[t]=l?e(f):i[t];a&&(n[a]=c),s(s.P+s.F*l,"String",n)},f=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b10a:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isPopUp?a("xu-modal",{attrs:{shown:!0,"header-shown":!0,"footer-shown":!0,"header-style":{backgroundColor:"#00a8b3",color:"#ffffff"}},on:{close:t.close}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.formTitle))]),a("div",{staticClass:"xu-text-level3",attrs:{slot:"content"},slot:"content"},t._l(t.renderData,(function(e){return a("div",[e.additionalInfo&&"radio"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),t._l(e.additionalInfo.optional,(function(s){return a("label",{staticClass:"xu-label-choose mr-integer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-choose xu-radio",attrs:{type:"radio"},domProps:{value:s,checked:t._q(e.value,s)},on:{change:function(a){return t.$set(e,"value",s)}}}),a("span",[t._v(t._s(s))])])}))],2):e.additionalInfo&&"number"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-input",attrs:{type:"number",disabled:0!==t.rules.length&&t.applyFormRules(e.field)},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])]):e.additionalInfo&&"select"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-input",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",a.target.multiple?s:s[0])}}},t._l(e.additionalInfo.optional,(function(e){return a("option",[t._v("\n                                "+t._s(e)+"\n                            ")])})),0)])]):e.additionalInfo&&"textarea"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-textarea",attrs:{type:"text",disabled:0!==t.rules.length&&t.applyFormRules(e.field)},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])]):e.additionalInfo&&"date"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-input",attrs:{type:"date",disabled:0!==t.rules.length&&t.applyFormRules(e.field)},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])]):e.additionalInfo&&"checkbox"===e.additionalInfo.type?a("div",{staticClass:"xu-form-control clear"},[a("div",{staticClass:"checkbox-left"},[a("span",[t._v(t._s(e.content))])]),a("div",{staticClass:"checkbox-right"},t._l(e.additionalInfo.optional,(function(s){return a("label",{staticClass:"xu-label-choose mr-integer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-choose xu-checkbox",attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(e.value)?t._i(e.value,s)>-1:e.value},on:{change:function(a){var n=e.value,o=a.target,i=!!o.checked;if(Array.isArray(n)){var l=s,r=t._i(n,l);o.checked?r<0&&t.$set(e,"value",n.concat([l])):r>-1&&t.$set(e,"value",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"value",i)}}}),a("span",[t._v(t._s(s))])])})),0)]):a("div",{staticClass:"xu-form-control"},[a("label",{staticClass:"xu-label-text"},[a("span",{staticClass:"fix-width-100"},[t._v(t._s(e.content))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"formItem.value"}],staticClass:"xu-input",attrs:{type:"text",disabled:0!==t.rules.length&&t.applyFormRules(e.field)},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])])])})),0),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"xu-text-center"},[a("button",{staticClass:"xu-btn xu-btn-primary mr-integer",on:{click:t.submit}},[t._v("确认")]),a("button",{staticClass:"xu-btn xu-btn-cancel mb-integer",on:{click:t.close}},[t._v("取消")])])])]):a("div")],1)},n=[],o=(a("ac6a"),a("c41d")),i=a("3d71"),l={name:"XuForm",components:{XuModal:o["a"]},props:{isPopUp:{default:!1,type:Boolean},formTitle:{default:"表单",type:String},renderData:{default:function(){return[{content:"默认",value:"",field:""}]},type:Array},rules:{default:function(){return[]},type:Array},authRules:{default:function(){return[]},type:Array}},data:function(){return{}},methods:{close:function(){this.$emit("close")},submit:function(){var t=!1,e={};for(var a in this.renderData.forEach((function(t){e[t.field]=t.value})),e)if(!this.applyFormRules(a)&&""===e[a]){t=!0;break}if(t)Object(i["a"])("请完成所有内容再提交~","error");else{var s=this.authRules.length,n=!0;for(var o in e){for(var l=0;l<s;l++)if(o===this.authRules[l].field&&!this.authRules[l]["isPassAuth"](e[o])){n=!1,Object(i["a"])(this.authRules[l]["failAuthMsg"],"error");break}if(!n)break}n&&(this.$emit("submit",e),this.$emit("close"))}},applyFormRules:function(t){for(var e=0;e<this.rules.length;e++){var a=this.rules[e].field,s=this.rules[e].limitBy.field,n=this.rules[e].limitBy.value,o=void 0,i=!1;if(t===a){for(var l=0;l<this.renderData.length;l++)if(this.renderData[l].field===a){o=l;break}for(var r=0;r<this.renderData.length;r++)if(this.renderData[r].field===s&&String(this.renderData[r].value)===n){this.renderData[o].value="",i=!0;break}return i}}return!1}}},r=l,c=(a("7860"),a("2877")),u=Object(c["a"])(r,s,n,!1,null,"1fbd6ffb",null);e["a"]=u.exports},c41d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shown?a("div",{staticClass:"xu-modal-backdrop",on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[a("div",{staticClass:"xu-modal",class:{fadeIn:t.shown},style:t.modelStyle},[t.headerShown?a("div",{staticClass:"xu-modal-header",style:t.headerStyle},[a("div",{staticClass:"modal-title-wrapper"},[t._t("header",[a("div",[t._v("这是模态框标题")])])],2),a("div",{staticClass:"close-icon",on:{click:t.close}},[t._v("×")])]):t._e(),a("div",{staticClass:"xu-modal-content"},[t._t("content",[a("div",[t._v("这是模态框内容")])])],2),t.footerShown?a("div",{staticClass:"xu-modal-footer"},[t._t("footer",[a("div",[t._v("这是模态框尾部")])])],2):t._e()])]):t._e()},n=[],o={name:"xu-modal",props:{shown:{type:Boolean,default:!1},footerShown:{type:Boolean,default:!1},headerShown:{type:Boolean,default:!1},headerStyle:{},modelStyle:{}},methods:{close:function(){this.$emit("close")}}},i=o,l=(a("a54b"),a("2877")),r=Object(l["a"])(i,s,n,!1,null,"52ce554c",null);e["a"]=r.exports},c5f6:function(t,e,a){"use strict";var s=a("7726"),n=a("69a8"),o=a("2d95"),i=a("5dbc"),l=a("6a99"),r=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",h=s[p],m=h,v=h.prototype,g=o(a("2aeb")(v))==p,b="trim"in String.prototype,_=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var a,s,n,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+e}for(var i,r=e.slice(2),c=0,u=r.length;c<u;c++)if(i=r.charCodeAt(c),i<48||i>n)return NaN;return parseInt(r,s)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(g?r((function(){v.valueOf.call(a)})):o(a)!=p)?i(new m(_(e)),a,h):_(e)};for(var x,y=a("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)n(m,x=y[w])&&!n(h,x)&&d(h,x,u(m,x));h.prototype=v,v.constructor=h,a("2aba")(s,p,h)}},eeae:function(t,e,a){},f5e7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xu-swi-wrapper",class:{on:t.selValue,off:!t.selValue},on:{click:function(e){return t.toggle()}}},[a("span",{staticClass:"toggle-circle"})])},n=[],o=a("bae1"),i={name:"XuSwitch",components:{XuToastr:o["a"]},props:{value:{type:Boolean},isShowConfirm:{type:Boolean,default:!1},tips:{type:Array,default:function(){return["确认启用?","确认停用?"]}}},data:function(){return{selValue:this.value}},methods:{toggle:function(){var t=this;if(this.isShowConfirm)switch(this.selValue){case!1:Object(o["a"])(this.tips[0],(function(){t.operate()}));break;case!0:Object(o["a"])(this.tips[1],(function(){t.operate()}));break}else this.operate()},operate:function(){this.selValue=!this.selValue,this.$emit("input",this.selValue),this.$emit("toggle",this.selValue)}}},l=i,r=(a("430c"),a("2877")),c=Object(r["a"])(l,s,n,!1,null,"2b0eef7a",null);e["a"]=c.exports},f680:function(t,e,a){"use strict";var s=a("4cb0"),n=a.n(s);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-551ccbd7.370deff4.js.map